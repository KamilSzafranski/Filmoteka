const e=document.querySelector("#cookies-btn"),t=document.querySelector("#cookies");e.addEventListener("click",(()=>{t.style.display="none",((e,t,o)=>{console.log("clicked");let a=new Date;a.setTime(a.getTime()+864e5*o);const s=`expires= ${a.toUTCString()}`;document.cookie=`${e}=${t}; ${s}; path=/ `})("cookie",!0,30)}));const o=document.querySelector(".top-button");o.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})));const a=document.querySelector("body"),s=document.querySelector(".footer"),n=document.querySelector(".darkmode-toggle");let c=localStorage.getItem("mode");c&&"dark"===c&&(a.classList.add("dark"),s.classList.add("dark"),n.classList.add("active")),n.addEventListener("click",(()=>{if(a.classList.toggle("dark"),s.classList.toggle("dark"),!a.classList.contains("dark"))return localStorage.setItem("mode","light");localStorage.setItem("mode","dark")})),n.addEventListener("click",(()=>n.classList.toggle("active")));const l=document.querySelector(".js-box"),i=document.querySelector("#library"),r=document.querySelector("#home"),d=document.querySelector(".header");i.addEventListener("click",(e=>{e.preventDefault(),l.innerHTML="",l.innerHTML='<div class="js-box--padding"><button class="btn-watched btn-active" type="button">Watched</button>\n        <button class="btn-queue" type="button">Queue</button></div>',i.classList.add("nav-list__link--active"),r.classList.remove("nav-list__link--active"),d.classList.add("header--bgc")}));const m=document.querySelector("ul.MainPage__Grid"),u=document.querySelector("template.GalleryTemplate"),g=document.querySelector("ul.MainPage__Grid");document.querySelector(".loader-container");(async()=>{try{(e=>{for(let t=0;t<e;t++)m.append(u.content.cloneNode(!0))})(20);const e=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=40ed737db1bcf2c75f234fa073fa8cf6"),t=(await e.json()).results,o=await fetch("\nhttps://api.themoviedb.org/3/genre/movie/list?api_key=40ed737db1bcf2c75f234fa073fa8cf6&language=en-US"),a=(await o.json()).genres;[...g.children].forEach(((e,o)=>{const s=`<img class="MainPage__Img skeleton" alt="Poster of movie:${t[o].title||t[o].name}"  src="https://image.tmdb.org/t/p/w500${t[o].poster_path}" data-id="${t[o].id}"/>`;[...e.querySelectorAll("*")].forEach((e=>{if(e.classList.contains("MainPage__Img")&&e.remove(),e.classList.contains("ImgWrapper")&&e.firstElementChild.insertAdjacentHTML("beforebegin",s),e.classList.contains("MainPage__PhotoTitle")&&(e.classList.remove("skeleton__text"),e.textContent=t[o].title||t[o].name),e.classList.contains("MainPage__PhotoType")){e.classList.remove("skeleton__text"),e.after("|");const s=t[o].genre_ids.flatMap((e=>a.flatMap((t=>e===t.id?t.name:[])))).join(", ");e.textContent=`${""===s?"No Type":s}`}e.classList.contains("MainPage__PhotoYear")&&(e.classList.remove("skeleton__text"),e.textContent=(t[o].release_date||t[o].first_air_date).substring(0,4))}))}))}catch(e){console.error(e.message)}})(),window.onscroll=function(){document.body.scrollTop>230||document.documentElement.scrollTop>230?o.style.display="block":o.style.display="none"};
//# sourceMappingURL=index.178b2e81.js.map
