function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},l=i.parcelRequired7c6;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},i.parcelRequired7c6=l),l.register("kyEFX",(function(t,i){var n,o;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var l={};n=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)l[t[i]]=e[t[i]]},o=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),l("kyEFX").register(JSON.parse('{"5ZPII":"index.90758d93.js","h8U5F":"nocover.141d9355.png"}'));const a=document.querySelector("#cookies-btn"),s=document.querySelector("#cookies");a.addEventListener("click",(()=>{s.style.display="none",((e,t,i)=>{console.log("clicked");let n=new Date;n.setTime(n.getTime()+864e5*i);const o=`expires= ${n.toUTCString()}`;document.cookie=`${e}=${t}; ${o}; path=/ `})("cookie",!0,30)}));const r=document.querySelector(".top-button");r.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})));const c=document.querySelector("body"),d=document.querySelector(".footer"),u=document.querySelector(".darkmode-toggle");let m=localStorage.getItem("mode");m&&"dark"===m&&(c.classList.add("dark"),d.classList.add("dark"),u.classList.add("active")),u.addEventListener("click",(()=>{if(c.classList.toggle("dark"),d.classList.toggle("dark"),!c.classList.contains("dark"))return localStorage.setItem("mode","light");localStorage.setItem("mode","dark")})),u.addEventListener("click",(()=>u.classList.toggle("active")));const y=document.querySelector(".js-box"),p=document.querySelector("#library"),f=document.querySelector("#home"),g=document.querySelector(".header");p.addEventListener("click",(e=>{e.preventDefault(),y.innerHTML="",y.innerHTML='<div class="js-box--padding"><button class="btn-watched btn-active" type="button">Watched</button>\n        <button class="btn-queue" type="button">Queue</button></div>',p.classList.add("nav-list__link--active"),f.classList.remove("nav-list__link--active"),g.classList.add("header--bgc")}));var b;b=new URL(l("kyEFX").resolve("h8U5F"),import.meta.url).toString();const v=document.querySelector("ul.MainPage__Grid"),h=document.querySelector("template.GalleryTemplate"),_=document.querySelector("ul.MainPage__Grid"),S=document.querySelector("input.header__input"),E=document.querySelector("button.header__submit"),x=document.querySelector("div.Pagination"),k=document.querySelector("div.Pagination__containerGrid"),L=document.querySelector("ul.Pagination__grid");let q,w,C,P={api_key:"40ed737db1bcf2c75f234fa073fa8cf6",language:"en-US"},N=1,T=document.querySelector("div[data-add='first']"),M=document.querySelector("div[data-add='last']");const j=e=>{for(let t=0;t<e;t++)v.append(h.content.cloneNode(!0))},$=(e,i)=>{[..._.children].forEach(((n,o)=>{let l,{title:a,name:s,poster_path:r,id:c,genre_ids:d,release_date:u,first_air_date:m}=e[o];const y=`<img class="MainPage__Img skeleton" alt="Poster of movie:${a||s}"  src="${null===r?t(b):`https://image.tmdb.org/t/p/w500${r}`}" data-id="${c}"/>`;[...n.querySelectorAll("*")].forEach((e=>{if(e.classList.contains("MainPage__Img")&&e.remove(),e.classList.contains("ImgWrapper")&&e.insertAdjacentHTML("beforeend",y),e.classList.contains("MainPage__PhotoTitle")&&(e.classList.remove("skeleton__text"),e.textContent=a||s),e.classList.contains("MainPage__PhotoType")){e.classList.remove("skeleton__text"),e.after("|");const t=d.flatMap((e=>i.flatMap((t=>e===t.id?t.name:[]))));l=t.length>=4?t.slice(0,3).join(", ")+" ...":t.join(", "),e.textContent=`${""===l?"No type in database":l}`}if(e.classList.contains("MainPage__PhotoYear")){e.classList.remove("skeleton__text");let t=(u||m)??"No data in database";if("No data in database"===t)return e.textContent=t;e.textContent=t.slice(0,4)}}))}))},I=async(e,t="first")=>{try{"first"===t&&(N=1),e.preventDefault(),v.innerHTML="",P.query=S.value.trim(),P.page=N,e.currentTarget.blur();const i=new URLSearchParams(P);if(""===P.query)return console.log("BRAK DANYCH W INPUCIE");j(20);const n=await fetch(`https://api.themoviedb.org/3/search/movie?${i}`),o=await n.json();if(w=o.total_pages,q=o.total_results,C=o.results.length,C<20){[...v.children].forEach(((e,t)=>{t>=C&&e.remove()}))}const l=o.results,a=await fetch("\nhttps://api.themoviedb.org/3/genre/movie/list?api_key=40ed737db1bcf2c75f234fa073fa8cf6&language=en-US"),s=(await a.json()).genres;$(l,s),(e=>{L.innerHTML="",x.style.display="flex";const t=document.createDocumentFragment();for(let i=0;i<e;i++){const e=document.createElement("li");e.classList.add("Pagination__item"),e.textContent=i+1,t.append(e)}L.append(t),document.querySelector(`.Pagination__item:nth-child(${N})`).classList.add("Pagination__item--active"),w<5?(k.style.width=14*w+16*(w-1)+26+"px",U(0)):(M.textContent=w,M.style.visibility="visible",M.previousElementSibling.style.visibility="visible",M.style.opacity="1",M.previousElementSibling.style.opacity="1",x.lastElementChild.style.transform="translateX(0px)"),w-N<=2&&(M.style.visibility="hidden",M.previousElementSibling.style.visibility="hidden",M.style.opacity="0",M.previousElementSibling.style.opacity="0",x.lastElementChild.style.transform="translateX(-60px)"),N>3?(console.log("e"),x.firstElementChild.style.transform="translateX(0px)",T.style.visibility="visible",T.nextElementSibling.style.visibility="visible",T.style.opacity="1",T.nextElementSibling.style.opacity="1"):(T.style.visibility="hidden",T.nextElementSibling.style.visibility="hidden",T.style.opacity="0",T.nextElementSibling.style.opacity="0",x.firstElementChild.style.transform="translateX(60px)"),1===N?(x.firstElementChild.style.visibility="hidden",x.firstElementChild.style.opacity="0"):(x.firstElementChild.style.visibility="visible",x.firstElementChild.style.opacity="1",console.log(x.firstElementChild)),N===w?(x.lastElementChild.style.visibility="hidden",x.lastElementChild.style.opacity="0"):(x.lastElementChild.style.visibility="visible",x.lastElementChild.style.opacity="1")})(w),"first"===t&&(L.style.transform="translateX(0px)")}catch(e){console.error(e.message,e.code)}},U=e=>{L.style.transform=`translateX(${e}px)`};document.querySelector(".loader-container");window.onscroll=function(){document.body.scrollTop>230||document.documentElement.scrollTop>230?r.style.display="block":r.style.display="none"},(async()=>{try{j(20);const e=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=40ed737db1bcf2c75f234fa073fa8cf6"),t=(await e.json()).results,i=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=40ed737db1bcf2c75f234fa073fa8cf6&language=en-US"),n=(await i.json()).genres;$(t,n)}catch(e){console.error(e.message)}})(),E.addEventListener("click",I),x.addEventListener("click",(e=>{const{nodeName:t,textContent:i,dataset:{page:n}}=e.target;e.preventDefault();let o=L.computedStyleMap().get("transform")[0].x.value;"next"===n&&(N++,I(e,"second")),"previous"==n&&(N--,I(e,"second")),"next"===n&&N>3&&(o-=30,U(o)),"previous"===n&&N>=3&&(o+=30,U(o)),w-N<=2&&"next"===n&&(o=30*-(w-5),U(o)),w-N<2&&"previous"==n&&(o=30*-(w-5),U(o)),"LI"===t&&(N=Number(i),Number(i)>3&&N>=3&&!(w-Number(i))<3&&(o=30*-(Number(i)-3),U(o)),Number(i)<=3&&N>=3&&(o+=30*(3-Number(i)),U(o),console.log("e")),Number(i)<=3&&(o=0,U(o)),w-Number(i)<3&&(o=30*-(w-5),U(o)),I(e,"second")),e.target===T&&(o=0,U(o),N=1,I(e,"second")),e.target===M&&(o=30*-(w-5),U(o),N=w,I(e,"second"))}));
//# sourceMappingURL=index.90758d93.js.map
