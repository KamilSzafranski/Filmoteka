const e=document.querySelector(".top-button");e.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})));const t=document.querySelector("body"),o=document.querySelector(".footer"),s=document.querySelector(".darkmode-toggle");let a=localStorage.getItem("mode");a&&"dark"===a&&(t.classList.add("dark"),o.classList.add("dark"),s.classList.add("active")),s.addEventListener("click",(()=>{if(t.classList.toggle("dark"),o.classList.toggle("dark"),!t.classList.contains("dark"))return localStorage.setItem("mode","light");localStorage.setItem("mode","dark")})),s.addEventListener("click",(()=>s.classList.toggle("active")));const n=document.querySelector(".js-box"),c=document.querySelector("#library"),i=document.querySelector("#home"),l=document.querySelector(".header");c.addEventListener("click",(e=>{e.preventDefault(),n.innerHTML="",n.innerHTML='<div class="js-box--padding"><button class="btn-watched btn-active" type="button">Watched</button>\n        <button class="btn-queue" type="button">Queue</button></div>',c.classList.add("nav-list__link--active"),i.classList.remove("nav-list__link--active"),l.classList.add("header--bgc")}));const r=document.querySelector("ul.MainPage__Grid"),d=document.querySelector("template.GalleryTemplate"),m=document.querySelector("ul.MainPage__Grid");const u=document.querySelector("#cookies-btn"),g=document.querySelector("#cookies");setCookie=(e,t,o)=>{console.log("clicked");let s=new Date;s.setTime(s.getTime()+864e5*o);const a=`expires= ${s.toUTCString()}`;document.cookie=`${e}=${t}; ${a}; path=/ `},getCookie=e=>{const t="cName=";let o;return decodeURIComponent(document.cookie).split(";").forEach((e=>{0===e.indexOf(t)&&(o=e.substring(t.length))})),o},u.addEventListener("click",(()=>{g.style.display="none",setCookie("cookie",!0,30)})),(async()=>{try{(e=>{for(let t=0;t<e;t++)r.append(d.content.cloneNode(!0))})(20);const e=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=40ed737db1bcf2c75f234fa073fa8cf6"),t=(await e.json()).results,o=await fetch("\nhttps://api.themoviedb.org/3/genre/movie/list?api_key=40ed737db1bcf2c75f234fa073fa8cf6&language=en-US"),s=(await o.json()).genres;[...m.children].forEach(((e,o)=>{const a=`<img class="MainPage__Img skeleton" alt="Poster of movie:${t[o].title||t[o].name}"  src="https://image.tmdb.org/t/p/w500${t[o].poster_path}" data-id="${t[o].id}"/>`;[...e.querySelectorAll("*")].forEach((e=>{if(e.classList.contains("MainPage__Img")&&e.remove(),e.classList.contains("ImgWrapper")&&e.firstElementChild.insertAdjacentHTML("beforebegin",a),e.classList.contains("MainPage__PhotoTitle")&&(e.classList.remove("skeleton__text"),e.textContent=t[o].title||t[o].name),e.classList.contains("MainPage__PhotoType")){e.classList.remove("skeleton__text"),e.after("|");const a=t[o].genre_ids.flatMap((e=>s.flatMap((t=>e===t.id?t.name:[])))).join(", ");e.textContent=`${""===a?"No Type":a}`}e.classList.contains("MainPage__PhotoYear")&&(e.classList.remove("skeleton__text"),e.textContent=(t[o].release_date||t[o].first_air_date).substring(0,4))}))}))}catch(e){console.error(e.message)}})(),window.onscroll=function(){document.body.scrollTop>230||document.documentElement.scrollTop>230?e.style.display="block":e.style.display="none"};
//# sourceMappingURL=index.7cb21828.js.map
