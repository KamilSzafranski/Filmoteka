const e=document.querySelector(".top-button");e.addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})));const t=document.querySelector("body"),a=document.querySelector(".darkmode-toggle");let o=localStorage.getItem("mode");o&&"dark"===o&&(t.classList.add("dark"),a.classList.add("active")),a.addEventListener("click",(()=>{if(t.classList.toggle("dark"),!t.classList.contains("dark"))return localStorage.setItem("mode","light");localStorage.setItem("mode","dark")})),a.addEventListener("click",(()=>a.classList.toggle("active")));const s=document.querySelector(".js-box"),n=document.querySelector("#library"),c=document.querySelector("#home"),l=document.querySelector(".header");n.addEventListener("click",(e=>{e.preventDefault(),s.innerHTML="",s.innerHTML='<div class="js-box--padding"><button class="btn-watched btn-active" type="button">Watched</button>\n        <button class="btn-queue" type="button">Queue</button></div>',n.classList.add("nav-list__link--active"),c.classList.remove("nav-list__link--active"),l.classList.add("header--bgc")}));const i=document.querySelector("ul.MainPage__Grid"),r=document.querySelector("template.GalleryTemplate"),d=document.querySelector("ul.MainPage__Grid");(async()=>{try{(e=>{for(let t=0;t<e;t++)i.append(r.content.cloneNode(!0))})(20);const e=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=40ed737db1bcf2c75f234fa073fa8cf6"),t=(await e.json()).results,a=await fetch("\nhttps://api.themoviedb.org/3/genre/movie/list?api_key=40ed737db1bcf2c75f234fa073fa8cf6&language=en-US"),o=(await a.json()).genres;[...d.children].forEach(((e,a)=>{const s=`<img class="MainPage__Img skeleton" alt="Poster of movie:${t[a].title||t[a].name}"  src="https://image.tmdb.org/t/p/w500${t[a].poster_path}" data-id="${t[a].id}"/>`;[...e.querySelectorAll("*")].forEach((e=>{if(e.classList.contains("MainPage__Img")&&e.remove(),e.classList.contains("ImgWrapper")&&e.firstElementChild.insertAdjacentHTML("beforebegin",s),e.classList.contains("MainPage__PhotoTitle")&&(e.classList.remove("skeleton__text"),e.textContent=t[a].title||t[a].name),e.classList.contains("MainPage__PhotoType")){e.classList.remove("skeleton__text"),e.after("|");const s=t[a].genre_ids.flatMap((e=>o.flatMap((t=>e===t.id?t.name:[])))).join(", ");e.textContent=`${""===s?"No Type":s}`}e.classList.contains("MainPage__PhotoYear")&&(e.classList.remove("skeleton__text"),e.textContent=(t[a].release_date||t[a].first_air_date).substring(0,4))}))}))}catch(e){console.error(e.message)}})(),window.onscroll=function(){document.body.scrollTop>230||document.documentElement.scrollTop>230?e.style.display="block":e.style.display="none"};
//# sourceMappingURL=index.1feac083.js.map
